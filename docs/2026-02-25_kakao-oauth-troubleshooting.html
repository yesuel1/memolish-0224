<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kakao OAuth ë¡œê·¸ì¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… â€” Memolish (2026-02-25)</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Segoe UI', sans-serif; background: #f8fafc; color: #1e293b; line-height: 1.7; }
    .container { max-width: 860px; margin: 0 auto; padding: 48px 24px; }

    h1 { font-size: 1.9rem; font-weight: 800; color: #1e293b; margin-bottom: 8px; }
    .subtitle { color: #64748b; font-size: 0.95rem; margin-bottom: 40px; }

    h2 { font-size: 1.25rem; font-weight: 700; color: #1e293b; margin: 36px 0 12px; border-left: 4px solid #6366f1; padding-left: 12px; }
    h3 { font-size: 1rem; font-weight: 700; color: #475569; margin: 20px 0 8px; }

    .card { background: #fff; border: 1px solid #e2e8f0; border-radius: 12px; padding: 20px 24px; margin-bottom: 16px; }

    .badge { display: inline-block; padding: 2px 10px; border-radius: 20px; font-size: 0.75rem; font-weight: 600; margin-bottom: 6px; }
    .badge-red   { background: #fee2e2; color: #dc2626; }
    .badge-green { background: #dcfce7; color: #16a34a; }
    .badge-yellow{ background: #fef9c3; color: #ca8a04; }

    .error-title { font-weight: 700; color: #dc2626; font-size: 1rem; margin-bottom: 6px; }
    .cause  { background: #fff7ed; border-left: 3px solid #f97316; padding: 10px 14px; border-radius: 6px; margin: 8px 0; font-size: 0.9rem; }
    .fix    { background: #f0fdf4; border-left: 3px solid #22c55e; padding: 10px 14px; border-radius: 6px; margin: 8px 0; font-size: 0.9rem; }

    code { background: #f1f5f9; color: #7c3aed; padding: 1px 6px; border-radius: 4px; font-family: 'Consolas', monospace; font-size: 0.88rem; }
    pre  { background: #1e293b; color: #e2e8f0; padding: 16px 20px; border-radius: 8px; overflow-x: auto; font-size: 0.85rem; line-height: 1.6; margin: 8px 0; }

    table { width: 100%; border-collapse: collapse; font-size: 0.88rem; }
    th { background: #f1f5f9; text-align: left; padding: 10px 14px; font-weight: 700; border-bottom: 2px solid #e2e8f0; }
    td { padding: 9px 14px; border-bottom: 1px solid #f1f5f9; vertical-align: top; }
    tr:last-child td { border-bottom: none; }

    .timeline { list-style: none; position: relative; }
    .timeline::before { content: ''; position: absolute; left: 10px; top: 0; bottom: 0; width: 2px; background: #e2e8f0; }
    .timeline li { padding-left: 32px; position: relative; margin-bottom: 14px; }
    .timeline li::before { content: ''; position: absolute; left: 4px; top: 6px; width: 14px; height: 14px; border-radius: 50%; background: #6366f1; border: 2px solid #fff; box-shadow: 0 0 0 2px #6366f1; }
    .timeline .step-label { font-weight: 700; color: #6366f1; font-size: 0.85rem; }
    .timeline .step-desc  { color: #475569; font-size: 0.88rem; }

    .checklist { list-style: none; }
    .checklist li { padding: 6px 0 6px 28px; position: relative; font-size: 0.9rem; }
    .checklist li::before { content: 'âœ…'; position: absolute; left: 0; }
    .checklist li.warn::before { content: 'âš ï¸'; }
    .checklist li.key::before  { content: 'ğŸ”‘'; }

    footer { margin-top: 48px; border-top: 1px solid #e2e8f0; padding-top: 20px; color: #94a3b8; font-size: 0.82rem; }
  </style>
</head>
<body>
<div class="container">

  <h1>Kakao OAuth ë¡œê·¸ì¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</h1>
  <p class="subtitle">Memolish í”„ë¡œì íŠ¸ Â· 2026-02-25 Â· NextAuth.js v5 + Kakao Provider</p>

  <!-- ìš”ì•½ -->
  <h2>í•œëˆˆì— ë³´ëŠ” ì›ì¸ê³¼ í•´ê²°</h2>
  <div class="card">
    <table>
      <thead>
        <tr><th>#</th><th>ì¦ìƒ</th><th>ì‹¤ì œ ì›ì¸</th><th>í•´ê²°</th></tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td><span class="badge badge-red">KOE101</span> ì•± ê´€ë¦¬ì ì„¤ì • ì˜¤ë¥˜</td>
          <td>.env.localì˜ <code>AUTH_KAKAO_CLIENT_ID</code> ê°’ì´ ë¹„ì–´ìˆìŒ</td>
          <td>.env.localì— REST API í‚¤ ì§ì ‘ ì…ë ¥</td>
        </tr>
        <tr>
          <td>2</td>
          <td><span class="badge badge-red">KOE101</span> ë°˜ë³µ</td>
          <td>ì¹´ì¹´ì˜¤ ì½˜ì†” ë™ì˜í•­ëª© ë¯¸ì„¤ì • (ë‹‰ë„¤ì„ ì—†ìŒ)</td>
          <td>ì¹´ì¹´ì˜¤ ì½˜ì†” â†’ ë™ì˜í•­ëª© â†’ ë‹‰ë„¤ì„ í•„ìˆ˜ë™ì˜ ON</td>
        </tr>
        <tr>
          <td>3</td>
          <td><span class="badge badge-red">KOE101</span> ë°˜ë³µ</td>
          <td>Redirect URIë¥¼ ì˜ëª»ëœ ìœ„ì¹˜(ë¡œê·¸ì•„ì›ƒ URI)ì— ë“±ë¡</td>
          <td>ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ â†’ ì¼ë°˜ íƒ­ì—ì„œ Redirect URI ë“±ë¡</td>
        </tr>
        <tr>
          <td>4</td>
          <td><code>clientSecret must be a string</code></td>
          <td>.env.localì˜ <code>AUTH_KAKAO_CLIENT_SECRET</code> ê°’ì´ ë¹„ì–´ìˆìŒ</td>
          <td>.env.localì— Client Secret ê°’ ì…ë ¥</td>
        </tr>
        <tr>
          <td>5</td>
          <td>ë©”ëª¨ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨</td>
          <td>ë°±ì—”ë“œ ë¯¸ì‹¤í–‰ + PostgreSQL ë¯¸ì„¤ì¹˜</td>
          <td>DATABASE_URLì„ SQLiteë¡œ ë³€ê²½ í›„ uvicorn ì‹¤í–‰</td>
        </tr>
        <tr>
          <td>6</td>
          <td>npm install í”¼ì–´ ì˜ì¡´ì„± ì˜¤ë¥˜</td>
          <td>next-auth@betaê°€ eslint v10 ìš”êµ¬, í”„ë¡œì íŠ¸ëŠ” v8</td>
          <td><code>--legacy-peer-deps</code> ë¡œ ì„¤ì¹˜ í›„ eslint ì—…ê·¸ë ˆì´ë“œ</td>
        </tr>
        <tr>
          <td>7</td>
          <td>Hydration mismatch ê²½ê³ </td>
          <td>ë¸Œë¼ìš°ì € í™•ì¥ í”„ë¡œê·¸ë¨ì´ DOM ìˆ˜ì •</td>
          <td><code>suppressHydrationWarning</code> bodyì— ì¶”ê°€</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- í•µì‹¬ ì›ì¸ -->
  <h2>í•µì‹¬ ì‹¤ìˆ˜ 1 â€” .env íŒŒì¼ í˜¼ë™</h2>
  <div class="card">
    <div class="badge badge-red">ê°€ì¥ ë§ì€ ì‹œê°„ì„ ë‚­ë¹„í•œ ì›ì¸</div>
    <p class="error-title">ì¦ìƒ: í‚¤ë¥¼ ë¶„ëª…íˆ ì…ë ¥í–ˆëŠ”ë° KOE101ì´ ê³„ì† ë°œìƒ</p>
    <div class="cause">
      <strong>ì›ì¸:</strong> <code>backend/.env</code> íŒŒì¼ì— í‚¤ë¥¼ ì…ë ¥í–ˆì§€ë§Œ,
      Next.jsê°€ ì½ëŠ” íŒŒì¼ì€ <code>frontend/.env.local</code>ì…ë‹ˆë‹¤.
      ë‘ íŒŒì¼ì´ ì™„ì „íˆ ë‹¤ë¥¸ íŒŒì¼ì´ë©°, ì´ë¦„ë„ ë‹¤ë¦…ë‹ˆë‹¤.
    </div>
    <div class="fix">
      <strong>í•´ê²°:</strong> Next.js í™˜ê²½ë³€ìˆ˜ëŠ” ë°˜ë“œì‹œ <code>frontend/.env.local</code>ì— ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.
    </div>
    <h3>ì˜¬ë°”ë¥¸ íŒŒì¼ êµ¬ì¡°</h3>
    <pre>memolish_260223/
â”œâ”€â”€ backend/
â”‚   â””â”€â”€ .env          â† FastAPI ì„œë²„ ì „ìš© (DB URL, Gemini API Key ë“±)
â””â”€â”€ frontend/
    â””â”€â”€ .env.local     â† Next.js ì „ìš© (AUTH_SECRET, AUTH_KAKAO_* ë“±)</pre>
    <h3>frontend/.env.local ìµœì¢… ë‚´ìš©</h3>
    <pre>NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
NEXTAUTH_URL=http://localhost:3000

# NextAuth
AUTH_SECRET=9541b6c9d69b0e798e9d179a9a9f51aaa79682f3b1a7ac5a6b4b9456d0aeec52

# Kakao OAuth
AUTH_KAKAO_CLIENT_ID=&lt;ì¹´ì¹´ì˜¤ REST API í‚¤&gt;
AUTH_KAKAO_CLIENT_SECRET=&lt;ì¹´ì¹´ì˜¤ Client Secret&gt;</pre>
  </div>

  <!-- í•µì‹¬ ì›ì¸ 2 -->
  <h2>í•µì‹¬ ì‹¤ìˆ˜ 2 â€” ì¹´ì¹´ì˜¤ ì½˜ì†” ì„¤ì • ìœ„ì¹˜ í˜¼ë™</h2>
  <div class="card">
    <p class="error-title">ì¦ìƒ: Redirect URIë¥¼ ë“±ë¡í–ˆëŠ”ë° KOE101ì´ ê³„ì† ë°œìƒ</p>
    <div class="cause">
      <strong>ì›ì¸:</strong> ì¹´ì¹´ì˜¤ ì½˜ì†” UIê°€ ê°œí¸ë˜ì–´ Redirect URI ë“±ë¡ ìœ„ì¹˜ê°€ ë°”ë€Œì—ˆìŠµë‹ˆë‹¤.
      "ë¡œê·¸ì•„ì›ƒ Redirect URI" ì¹¸ì— ì˜ëª» ì…ë ¥í–ˆìŠµë‹ˆë‹¤.
    </div>
    <div class="fix">
      <strong>ì˜¬ë°”ë¥¸ ìœ„ì¹˜:</strong> ì¹´ì¹´ì˜¤ ë””ë²¨ë¡œí¼ â†’ ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ â†’ <strong>ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸</strong> ë©”ë‰´ â†’ <strong>ì¼ë°˜</strong> íƒ­ â†’ Redirect URI
    </div>
    <h3>ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
    <ul class="checklist">
      <li>ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í™œì„±í™”: <strong>ON</strong></li>
      <li>Redirect URI ë“±ë¡: <code>http://localhost:3000/api/auth/callback/kakao</code></li>
      <li class="warn">ë¡œê·¸ì•„ì›ƒ Redirect URIì™€ í˜¼ë™ ê¸ˆì§€ (ë‹¤ë¥¸ ì¹¸)</li>
      <li>ë™ì˜í•­ëª© â†’ ë‹‰ë„¤ì„: <strong>í•„ìˆ˜ë™ì˜</strong></li>
      <li class="key">ë³´ì•ˆ â†’ Client Secret: ê°’ ë³µì‚¬ í›„ .env.localì— ì…ë ¥</li>
    </ul>
  </div>

  <!-- ë””ë²„ê¹… íƒ€ì„ë¼ì¸ -->
  <h2>ë””ë²„ê¹… íƒ€ì„ë¼ì¸</h2>
  <div class="card">
    <ul class="timeline">
      <li>
        <span class="step-label">Step 1</span>
        <span class="step-desc">npm install next-auth@beta â†’ peer deps ì¶©ëŒ â†’ <code>--legacy-peer-deps</code> ì‚¬ìš©</span>
      </li>
      <li>
        <span class="step-label">Step 2</span>
        <span class="step-desc">npx auth secret â†’ better-auth íŒ¨í‚¤ì§€ê°€ ì‹¤í–‰ë¨ â†’ AUTH_SECRET ìˆ˜ë™ ìƒì„±</span>
      </li>
      <li>
        <span class="step-label">Step 3</span>
        <span class="step-desc">ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ â†’ KOE101 ë°œìƒ</span>
      </li>
      <li>
        <span class="step-label">Step 4</span>
        <span class="step-desc">ì¹´ì¹´ì˜¤ ì½˜ì†” í™•ì¸: í™œì„±í™” ON, ë™ì˜í•­ëª© ë¯¸ì„¤ì • â†’ ë‹‰ë„¤ì„ í•„ìˆ˜ë™ì˜ ì¶”ê°€</span>
      </li>
      <li>
        <span class="step-label">Step 5</span>
        <span class="step-desc">Redirect URIë¥¼ ë¡œê·¸ì•„ì›ƒ ì¹¸ì— ì˜ëª» ë“±ë¡ â†’ ì˜¬ë°”ë¥¸ ìœ„ì¹˜(ì¼ë°˜ íƒ­)ì— ì¬ë“±ë¡</span>
      </li>
      <li>
        <span class="step-label">Step 6</span>
        <span class="step-desc">.env.local íŒŒì¼ í™•ì¸ â†’ AUTH_KAKAO_CLIENT_ID, AUTH_KAKAO_CLIENT_SECRET ëª¨ë‘ ë¹ˆ ê°’ ë°œê²¬</span>
      </li>
      <li>
        <span class="step-label">Step 7 âœ…</span>
        <span class="step-desc">.env.localì— ì •í™•í•œ ê°’ ì…ë ¥ + NEXTAUTH_URL ì¶”ê°€ â†’ ë¡œê·¸ì¸ ì„±ê³µ</span>
      </li>
      <li>
        <span class="step-label">Step 8</span>
        <span class="step-desc">ë¡œê·¸ì¸ ì„±ê³µ í›„ ë©”ëª¨ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨ â†’ ë°±ì—”ë“œ ë¯¸ì‹¤í–‰</span>
      </li>
      <li>
        <span class="step-label">Step 9 âœ…</span>
        <span class="step-desc">backend/.envì˜ DATABASE_URLì„ SQLiteë¡œ ë³€ê²½ â†’ uvicorn ì‹¤í–‰ â†’ ë©”ëª¨ ì •ìƒ ë¡œë“œ</span>
      </li>
    </ul>
  </div>

  <!-- ë°±ì—”ë“œ DB -->
  <h2>ë°±ì—”ë“œ ì‹¤ìˆ˜ â€” PostgreSQL vs SQLite</h2>
  <div class="card">
    <div class="cause">
      <strong>ì›ì¸:</strong> <code>backend/.env</code>ì— <code>DATABASE_URL=postgresql://...</code>ì´ ì„¤ì •ë˜ì–´ ìˆì—ˆìœ¼ë‚˜
      ë¡œì»¬ì— PostgreSQLì´ ì„¤ì¹˜ë˜ì§€ ì•Šì•„ ë°±ì—”ë“œ ì‹œì‘ ìì²´ê°€ ë¶ˆê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤.
    </div>
    <div class="fix">
      <strong>í•´ê²°:</strong> ë¡œì»¬ ê°œë°œ ì‹œ SQLite ì‚¬ìš©. <code>config.py</code>ì˜ ê¸°ë³¸ê°’ì´ ì´ë¯¸ SQLiteì´ë¯€ë¡œ
      <code>.env</code>ì˜ DATABASE_URLì„ SQLite URLë¡œ ë³€ê²½í•˜ë©´ ë©ë‹ˆë‹¤.
    </div>
    <pre># backend/.env
DATABASE_URL=sqlite:///./memolish.db   # ë¡œì»¬ ê°œë°œìš©
# DATABASE_URL=postgresql+psycopg://user:pass@host:5432/memolish_db  # í”„ë¡œë•ì…˜</pre>
  </div>

  <!-- ë‹¤ìŒë²ˆì„ ìœ„í•œ ì²´í¬ë¦¬ìŠ¤íŠ¸ -->
  <h2>ë‹¤ìŒ OAuth ì—°ë™ ì‹œ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
  <div class="card">
    <ul class="checklist">
      <li>Next.js í™˜ê²½ë³€ìˆ˜ëŠ” <code>frontend/.env.local</code>ì— ì‘ì„±</li>
      <li>ë°±ì—”ë“œ í™˜ê²½ë³€ìˆ˜ëŠ” <code>backend/.env</code>ì— ì‘ì„± (ì™„ì „íˆ ë³„ê°œ íŒŒì¼)</li>
      <li>ì¹´ì¹´ì˜¤ ì½˜ì†”ì—ì„œ Redirect URIëŠ” "ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ â†’ ì¼ë°˜ íƒ­"ì— ë“±ë¡</li>
      <li>ë™ì˜í•­ëª©(ë‹‰ë„¤ì„ ë“±) ìµœì†Œ 1ê°œ ì´ìƒ í•„ìˆ˜ë™ì˜ ì„¤ì •</li>
      <li>Client Secret í™œì„±í™” í›„ ê°’ì„ .env.localì— ë³µì‚¬</li>
      <li>NEXTAUTH_URL í™˜ê²½ë³€ìˆ˜ ë°˜ë“œì‹œ í¬í•¨</li>
      <li>ë¡œì»¬ ê°œë°œ DBëŠ” SQLite, í”„ë¡œë•ì…˜ì€ PostgreSQL(Neon ë“±)</li>
      <li>ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ê°ê° ë³„ë„ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰</li>
    </ul>
  </div>

  <footer>
    <p>Memolish í”„ë¡œì íŠ¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê¸°ë¡ Â· ì‘ì„±ì¼: 2026-02-25</p>
  </footer>

</div>
</body>
</html>
